\section{Part 1: Digit classification}
\subsection{Part 1.1: Single pixels as features}
\subsubsection{Implementation}
\paragraph{Training}
To compute priors, we parse the training labels file, compute how many labels there are for each class, and divide those numbers by the total number of labels. We then compute the totals for each class that have foreground and background pixels at each (i,j). To do this, we first create a data structure to compute the likelihoods for each class of having a foreground or background pixel at (i,j). We then parse the training images file, dividing them into individual images and, for each (i,j) pixel in the image in class cls, we check if it's a foreground or background pixel and increment the totals count at the (cls, i, j) index of our data structure. Finally, we divide each entry in cls by the total number of training images and also apply Laplace smoothing, as mentioned on the assignment website.

\paragraph{Testing}
To estimate the labels for the testing data, we compute the posterior for each class 0-9 according to the equation, the one using the logarithms, given on the assignment website. The class with the highest posterior is the estimated label for the test image.

\paragraph{Laplace smoothing constant}
We ran training and testing on all smoothing constant values between 1 and 50, inclusive, and found that the overall accuracy was highest for k=1. Therefore, we chose to use k=1 for this part.

\subsubsection{Classification rates for each digit}
Overall accuracy: 0.771

\begin{tabular}{l|r|r|r|r|r}
Digit & 0 & 1 & 2 & 3 & 4 \\
\hline
Classification accuracy & 0.8444444444 & 0.9629629630 & 0.7766990291 & 0.7900000000 & 0.7663551402 \\
\end{tabular}

\begin{tabular}{r|r|r|r|r}
5 & 6 & 7 & 8 & 9 \\
\hline
0.6739130435 & 0.7582417582 & 0.7264150943 & 0.6019417476 & 0.8000000000 \\
\end{tabular}

\subsubsection{Confusion matrix}
\paragraph{Left half of matrix}
\begin{tabular}{r|r|r|r|r|r}
 & 0 & 1 & 2 & 3 & 4 \\
\hline
0 & 0.8444444444 & 0.0000000000 & 0.0111111111 & 0.0000000000 & 0.0111111111 \\
1 & 0.0000000000 & 0.9629629630 & 0.0092592593 & 0.0000000000 & 0.0000000000 \\
2 & 0.0097087379 & 0.0291262136 & 0.7766990291 & 0.0388349515 & 0.0097087379 \\
3 & 0.0000000000 & 0.0200000000 & 0.0000000000 & 0.7900000000 & 0.0000000000 \\
4 & 0.0000000000 & 0.0093457944 & 0.0000000000 & 0.0000000000 & 0.7663551402 \\
5 & 0.0217391304 & 0.0217391304 & 0.0108695652 & 0.1304347826 & 0.0326086957 \\
6 & 0.0109890110 & 0.0659340659 & 0.0439560440 & 0.0000000000 & 0.0439560440 \\
7 & 0.0000000000 & 0.0566037736 & 0.0283018868 & 0.0000000000 & 0.0283018868 \\
8 & 0.0194174757 & 0.0097087379 & 0.0291262136 & 0.1359223301 & 0.0194174757 \\
9 & 0.0100000000 & 0.0100000000 & 0.0100000000 & 0.0300000000 & 0.0900000000 \\
\end{tabular}

\paragraph{Right half of matrix}
\begin{tabular}{r|r|r|r|r|r}
 & 5 & 6 & 7 & 8 & 9 \\
\hline
0 & 0.0555555556 & 0.0333333333 & 0.0000000000 & 0.0444444444 & 0.0000000000 \\
1 & 0.0185185185 & 0.0092592593 & 0.0000000000 & 0.0000000000 & 0.0000000000 \\
2 & 0.0000000000 & 0.0582524272 & 0.0097087379 & 0.0485436893 & 0.0194174757 \\
3 & 0.0300000000 & 0.0200000000 & 0.0600000000 & 0.0200000000 & 0.0600000000 \\
4 & 0.0000000000 & 0.0280373832 & 0.0093457944 & 0.0186915888 & 0.1682242991 \\
5 & 0.6739130435 & 0.0108695652 & 0.0108695652 & 0.0217391304 & 0.0652173913 \\
6 & 0.0549450549 & 0.7582417582 & 0.0000000000 & 0.0219780220 & 0.0000000000 \\
7 & 0.0000000000 & 0.0000000000 & 0.7264150943 & 0.0283018868 & 0.1320754717 \\
8 & 0.0582524272 & 0.0000000000 & 0.0097087379 & 0.6019417476 & 0.1165048544 \\
9 & 0.0200000000 & 0.0000000000 & 0.0200000000 & 0.0100000000 & 0.8000000000 \\
\end{tabular}

\begin{multicols*}{2}
\subsubsection{Test examples with highest posteriors (0-9 in ascending order)}
\begin{Verbatim}[samepage=true]
                                                        
                            + # + +                     
                        + # # # # # +                   
                      + # # # # # # # # +               
                    + # # # # # # # # # # +             
                  + # # # # # # +   + # # +             
                + # # # # + + +     + # # # +           
                # # # # +             + # # +           
              + # # # +                 # # +           
              # # # # +                 # # +           
              # # # +                   + # #           
              # # # +                   # # +           
              # # # +                   # # +           
              # # # +                 + # # +           
              # # # +               + # # +             
              # # # # +           + # # # +             
              + # # # + +       + # # # # +             
                # # # # # + + # # # # # +               
                + # # # # # # # # # # +                 
                  + # # # # # # # # +                   
                      + + + + + +                       
                                                        
\end{Verbatim}
\begin{Verbatim}[samepage=true]

                                                        
                            + # +                       
                            + # # +                     
                            + # # +                     
                            # # # +                     
                            # # # +                     
                            # # #                       
                          + # # +                       
                          + # # +                       
                          + # # +                       
                          # # # +                       
                          # # #                         
                        + # # +                         
                        + # # +                         
                        # # # +                         
                      + # # #                           
                      + # # +                           
                    + # # # +                           
                    + # # # #                           
                    + # # # +                           
                      + # +                             
                                                        
\end{Verbatim}
\begin{Verbatim}[samepage=true]
                                                        
                                                        
                + # # # + +                             
                  + + + + # # +                         
                          + + # +                       
                            + # #                       
                              + # +                     
                              + # #                     
                                # #                     
                              + # #                     
                              + # #                     
                              + # +                     
                            + # # +                     
                          + + # #                       
                          + # # +                       
                        + # # +                         
                      + # # +                           
                      + # #                             
                    + # # +                             
                    + # # +                             
                      + # # # + + + +                   
                        + + + + # # +                   
                                                        
                                                        
\end{Verbatim}
\begin{Verbatim}[samepage=true]
                                                        
                                                        
                  + # # # # # + +                       
                  + # # # # # # # # +                   
                        + + + # # # # +                 
                                + + # #                 
                                  + # # +               
                                + # # +                 
                            + + # # +                   
                          + # # # +                     
                        + # # # +                       
                      + # # # # # +                     
                      # # # + # # # +                   
                      + +     + # # +                   
                                + # +                   
                                + # #                   
                                + # #                   
                              + # # +                   
                            + + # # +                   
          + + + + + + + + + # # # +                     
          + # # # # # # # # # # +                       
            + + + # # # # # + +                         
                                                        
                                                        
\end{Verbatim}
\begin{Verbatim}[samepage=true]
                                                        
                                                        
                        + + +                           
                        + # #   +                       
                      # # # +   + + +                   
                  + + # # +     + # # +                 
                  # # # +       + # #                   
                + # # +         + # #                   
                + # #           # # #                   
                + # # # + + + + # # # + + +             
                  + + # # # # # # # # # # +             
                      + + + + # # # # + +               
                            + # # #                     
                            + # # +                     
                            + # # +                     
                            # # #                       
                          + # # +                       
                          + # # +                       
                          + # # +                       
                          + # +                         
                          # # +                         
                          + # +                         
                                                        
                                                        
\end{Verbatim}
\begin{Verbatim}[samepage=true]
                                                        
                                                        
                                                        
                                      + + # +           
                        + + + + + + # # # # +           
                        # # # # # # # # # +             
                        # # # + + + + +                 
                      + # + +                           
                      + # +                             
                    + # #                               
                    + # + + + +                         
                  + # # # # # # +                       
                  + # # + + + # #                       
                    +         + # +                     
                              + # +                     
                              + # +                     
                                # #                     
              + # +             # # +                   
              + # +           + # #                     
              # # +           # # #                     
              + # # +       + # # +                     
                # # + + + # # # +                       
                      # # # + +                         
                                                        
                                                        
\end{Verbatim}
\begin{Verbatim}[samepage=true]
                                                        
                                                        
                                + # +                   
                            + # # # +                   
                          + # # # +                     
                        + # # # +                       
                        + # # # +                       
                      + # # # +                         
                    + # # # +                           
                    + # # +                             
                    + # # +                             
                  + # # # +                             
                  + # # +                               
                  + # # +       + + # # +               
                + # # # +     + # # # # +               
                + # # # + + # # # # # # +               
                + # # +   + # # # # # # +               
                + # # # + # # # # # # # +               
                + # # # # # # # # # +                   
                  + # # # # # # # +                     
                    + # # # # # +                       
                        + # # +                         
                                                        
                                                        
                                                        
\end{Verbatim}
\begin{Verbatim}[samepage=true]
                                                        
                                                        
                                                        
                    # # # + # +                         
                    + +     + # + +                     
                              + # +                     
                              + # +                     
                              + # +                     
                              # # +                     
                            + # #                       
                          + # # +                       
                        + # # # +                       
                    + + # # # #                         
                    + + + + # +                         
                          + # +                         
                        + # #                           
                        + # +                           
                        + # +                           
                      + # #                             
                      + # +                             
                      + # +                             
                    + # #                               
                    + # +                               
                                                        
                                                        
\end{Verbatim}
\begin{Verbatim}[samepage=true]
                                                        
                                                        
                                + # # +                 
                            + + # # # # +               
                        + + # # # # # # +               
                      + # # # # + + # # +               
                    + + # # # +   + # # +               
                    + # # +       + # # +               
                    # # #           + # + +             
                    # # #         + + # # #             
                    + # # + + + + # # # + +             
                    + # # # # # # # + +                 
                      # # # # # + +                     
                    + # # # # #                         
                  + # # # # # # +                       
                  # # # + + # # +                       
                + # # +     # # # +                     
                + # # +     # # # +                     
                + # # +   + # # #                       
                + # # # # # # # +                       
                  + # # # # # # +                       
                    + + # # + +                         
                                                        
                                                        
\end{Verbatim}
\begin{Verbatim}[samepage=true]
                                                        
                                                        
                                                        
                        + + # # + +                     
                      + # # # # # # +                   
                  + # # # # + + + + # +                 
                + # # # +       + + # #                 
                + # # +       + # # # #                 
              + # # +         + # # # #                 
              + # # +         + # # # +                 
              + # # +     + + # # # #                   
                + # # # # # # # # # +                   
                  + # # # # # # # +                     
                    + + + + + # # +                     
                          + # # +                       
                          + # # +                       
                          + # +                         
                        + # # +                         
                        + # # +                         
                        + # #                           
                        + # +                           
                        + # +                           
                        + # +                           
                                                        
\end{Verbatim}

\subsubsection{Test examples with lowest posteriors (0-9 in ascending order)}
\begin{Verbatim}[samepage=true]
                                                        
                                                        
                + + + + + + # + + +                     
              + # # # # # # # # # # +                   
          + # # # # # # # # # # # # # #                 
        + # # # # # # # # # # # # # # # +               
        # # # # # # # # + +     + + # # # +             
        # # # # # # # +             # # # #             
            + # # # +               + # # # +           
            + # # #                   + # # # +         
            # # # #                     # # # +         
            # # # #                     # # # #         
            # # # +                     # # # #         
            # # # #                     # # # #         
            # # # # +                   # # # #         
            + # # # # +                 # # # #         
              + # # # #                 # # # #         
                + # # # + +             # # # #         
                  + # # # # # + + + + # # # # #         
                    + # # # # # # # # # # # # +         
                      + # # # # # # # # # # +           
                        + + + # # # # # # #             
                                                        
                                                        
\end{Verbatim}
\begin{Verbatim}[samepage=true]
                                                        
                                                        
                  + # # +                               
                  + # # +                               
                  + # # + +                             
                    + # # # +                           
                    + # # # +                           
                    + # # # +                           
                      # # # # +                         
                      + # # # # +                       
                      + # # # # +                       
                        + # # # +                       
                        + # # # #                       
                        + # # # # +                     
                        + # # # # # +                   
                        + # # # # # #                   
                        + # # # # # #                   
                        + # # # # # #                   
                        + # # # # # #                   
                          + # # # # #                   
                            + # # # +                   
                            + + # + +                   
                                                        
                                                        
\end{Verbatim}
\begin{Verbatim}[samepage=true]
                                                        
                                                        
                          + + + + + # # # +             
                + + + # # # # # # # # # # #             
            + # # # # # # # # # # # # # # # +           
        + # # # # # # # # # # # # # # # # # +           
      + # # # # # # # # # # + + # # # # # # #           
      + # # # # # # # # # +     # # # # # # +           
      # # # # + + + + + +     + # # # # # +             
      # # # +             + + # # # # # +               
      # # +             + # # # # # # # +               
      + # +           + # # # # # # # # +               
      + +             # # # # # # # #                   
                      # # # # # # + +                   
                      + # # # # # # + +                 
                      + # # # # # # # # # +             
                        + # # # # # # # # # +           
                            + # # # # # # # +           
                              + + # # # # #             
                                    + # # #             
                                                        
                                                        
\end{Verbatim}
\begin{Verbatim}[samepage=true]
                                                        
                                                        
            + + # + + + + + +                           
          + # # # # # # # # # # +                       
          + # + + + + # # # # # # +                     
                          + + # # +                     
                            + # # +                     
                        + # # # #                       
          + + + + + + # # # # # +                       
        # # # # # # # # # # # # # + +                   
        # # # # # # # # # # # # # # # # +               
        + + + + + + +         + + # # # # +             
                                    + # # # +           
                                        + # # +         
                                          # # #         
            + # +                         + # #         
            # # # +                   + + # # #         
            + # # # # # + + + + + # # # # # # +         
              + # # # # # # # # # # # # # # +           
                  + + + + # # + # # # + +               
                                + +                     
                                                        
                                                        
\end{Verbatim}
\begin{Verbatim}[samepage=true]
                                                        
                                                        
                                                        
              + # +                                     
              + # #                                     
              + # #         + + # +                     
              + # #         + # # +                     
            + # # #         + # # +             +       
            + # # #         + # # +           + # +     
            + # # #         + # # +           + # +     
            + # # #         + # # +           + # +     
            + # # +         + # # #         + # # +     
            + # # +           + # #     + + # # # +     
            + # # +           + # # + # # # # # +       
            + # # +   + + + + # # # # # # # + +         
            + # # # # # # # # # # # # # + +             
            + # # # # # # # # # # # + +                 
                + + + + + + + + # # #                   
                                # # # +                 
                                + # # +                 
                                + # # +                 
                                  + # #                 
                                    + #                 
                                                        
                                                        
\end{Verbatim}
\begin{Verbatim}[samepage=true]
                                                        
                                                        
            + + # # +                                   
          + # # # # # +                                 
          # # # # # # +                                 
          # # # # # # +                                 
          # # # # + +                                   
          + # # # + + +                                 
            + + + + # # # + +                           
                    + + + # # # +                       
                          + # # # # +                   
                              + + # # +                 
                                    # # + +             
                                      + # # +           
                                        + # # +         
                      + + + +           + + # # +       
                      + # # # # + + + + + + # # #       
                        + # # # # # # # # # # # #       
                          + + # # # # # # # # # #       
                                    + + + + + +         
                                                        
                                                        
                                                        
\end{Verbatim}
\begin{Verbatim}[samepage=true]
                                                        
                    + + + # +                           
                + # # # # # +                           
              + # # + + +                               
              # # +                                     
            + # #                                       
            + # +                                       
            + # +                                       
            # # +                                       
            + # +                                       
            + # +                                       
              # #                                       
              # # +                   + + +             
              + # #               + # # # # # +         
                + # +           + # # # + + # # +       
                  # # +         # # #       + # #       
                  + # # +     + # # +         + # +     
                    + + # # +   # # +         + # +     
                        + + # # # # # +     + # #       
                            + # # # # # # # # # #       
                                  + + + + + + +         
                                                        
                                                        
                                                        
\end{Verbatim}
\begin{Verbatim}[samepage=true]
                                                        
                                                        
                                                        
        # # # # + + # # +                               
      # # # # # # # # # # # +                           
      # # # # # # # # # # # # +                         
      + # # # # # # # # # # # # +                       
        + + + # # # # # # # # # +                       
              + + + + + + # # # # + +                   
                        + + # # # # # +                 
                          + + # # # # #                 
                            + + # # # #                 
                              + + # # # +               
                                + # # # # +             
                                + # # # # #             
                                + # # # # #             
                                + # # # # +             
                                + # # # # +             
                                + # # # # +             
                                  + # # #               
                                  + # # # +             
                                  + # # # #             
                                  + # # # # #           
                                                        
\end{Verbatim}
\begin{Verbatim}[samepage=true]
                                                        
                                                        
                  + + + + +                             
              # # # # # # # + +                         
          + # # # # # # # # # +                         
          # # # # # # # # # # + # +                     
          # # # # # # # # # # + # +   +                 
          + # # # # + # # + + + # + + # +               
          + # # # + +       + + # # # # +               
            + # # # # + + + # # # # + +                 
            + # # # # # # # # # # #                     
              + # # # # # # # # # +                     
                + # # # # # # # # + +                   
                  + # # # # # # # # # # + +             
                  + # # # # + # # # # # # +             
                  + + # # # + # + + + # # # # +         
                      + # # # # # + + # # # # # +       
                      + # # # # # # # # # # # # +       
                        + + # # # # # # # # # # #       
                            + # # # # # # # # # #       
                              + # + # # # # # # +       
                                    + + + + +           
                                                        
                                                        
\end{Verbatim}
\begin{Verbatim}[samepage=true]
                                                        
                                                        
                                                        
                            + # # + + + +               
                    + + # # # # # # # # # +             
                + + # # # # # # # # # # # # +           
          + + # # # # # # # # # # # + # # # #           
        + # # # # # # # + + # + + +   + + # #           
      + # # # # +                       + # +           
      # # # # +                         # # +           
      # # # +                       + + # # +           
      # # # +                 + + + # # # # +           
      # # # # # + + + + # # # # # # # # # # +           
      + # # # # # # # # # # # # # # # # # # #           
        + # # # # # # # # # # + +     + # # #           
            + + + + + + + +           + # # #           
                                      + # # #           
                                      + # # +           
                                      + # # +           
                                      + # # #           
                                      + # # +           
                                      + # # +           
                                      + # # +           
                                                        

\end{Verbatim}

\subsubsection{Pairs of digits with highest confusion rates}
\paragraph{Key to symbols in below likelihood and odds ratio maps} Likelihood greater than -1: '\#'. Likelihood greater than -2 but less than -1: '+'. Likelihood greater than -4 but less than -2: '-'. Otherwise, ' '.
\newpage
\paragraph{Actual class: 4. Confused class: 9. \\}
Actual class (4) feature likelihood array:
\begin{Verbatim}[samepage=true]
                                                        
                - - - - - - - - - - - - - - - -         
            - - - - - - + - - - + + + + + + + - -       
          - - - + + + + + + + + + + + # # + + + - -     
        - - - + + + # # # + + + + + # # # # + + - -     
        - - - + + # # # # + + + + # # # # # + + -       
        - - - + + # # # # + + + + # # # # + + - -       
        - - + + # # # # # + - + # # # # # + + -         
        - - + # # # # # # + - + # # # # # + - -         
        - - + # # # # # + + + + # # # # # + - -         
        - + + # # # # # + + + # # # # # # + - - -       
        - + # # # # # # # # # # # # # # # + + - -       
        - + # # # # # # # # # # # # # # # + + - -       
        - + # # # # # # # # # # # # # # + + - - -       
        - + + # # # # # # # # # # # # # + + - -         
          - + + + + + + # # # # # # # + + - -           
          - - - - - - + + # # # # # + + - - -           
            - - - - - + + # # # # # + + - - -           
                - - - + + # # # # + + + - - -           
                - - + + + # # # # + + + - - - -         
                - - + + + + + # + + + + - - -           
                - - - + + + + + + + + - - - -           
                  - - - - - - - - - - - -               
                                                        
\end{Verbatim}
Confused class (9) feature likelihood array:
\begin{Verbatim}[samepage=true]
                                                        
                      - - - - - - - -                   
                - - - + + # # # # # # + + -             
              - - + + # # # # # # # # # + + -           
            - - + + # # # # # # # # # # # + - -         
          - - + + # # # # # # # # # # # # + - -         
          - - + # # # # # # + + # # # # # + - -         
        - - + + # # # # + + + + # # # # # + -           
        - - + # # # # # + + + # # # # # # + -           
        - - + # # # # # # # # # # # # # + - -           
        - - + # # # # # # # # # # # # # + - -           
        - - + + # # # # # # # # # # # # + - -           
          - - + # # # # # # # # # # # + - -             
          - - - + + # # # # # # # # # + - -             
            - - - + + + + # # # # # + + - - -           
              - - - - + + # # # # # + + - - -           
              - - - - + + # # # # # + + - - -           
              - - - + + # # # # # + + + - - -           
              - - - + + # # # # # + + + - - -           
              - - + + + # # # # + + + + - - -           
            - - - + + + # # + + + + + + - - -           
            - - - + + + + + + + + + + - - - -           
              - - - - - - - - - - - - - -               
                                                        
\end{Verbatim}
Odds ratios array:
\begin{Verbatim}[samepage=true]
                                                        
                              + + +                     
                      + + + + # # # # # # # #           
        # # # # # # # # # # # # # # # # # # # # #       
        # # # # # # # # # # + + # # # # # # # # # #     
      # # # # # # # + +               + # # # # # # +   
      # # # # # # + +                 + + # # # # # #   
      # # # + + + +                     + + # # # # #   
      # # + + + +                       + + + # # # +   
      # + + + +                         + + + + + #     
    + # +   + +         + +                 + # +       
  + + + + + + + + +   + +                   + # #       
  + + + + + + + + + + +             + + + + # # #       
  + + + + + + + + + + +             + + + # # # #       
    + + + # # + + + + + + + + + + + + + # # # # #       
      + # # # # + + + + + + + + + + + + # # # # #       
        # # # # # + + + + + + + + + + + + # # # # # +   
        # # # # # + + + + +       + + + + # + +     +   
          # # + + +     +         + + + + # +           
          + + + +               + + + + + + + +         
                                + + + + + + + +   +     
                                + + + + + + + +   +     
                                + + + + + + + + +       
                                                +       
                                                        
                                                        
\end{Verbatim}
\columnbreak
\paragraph{Actual class: 7. Confused class: 9. \\}
Actual class (7) feature likelihood array:
\begin{Verbatim}[samepage=true]
                                                        
                                                        
          - - - - - - - + + + + + + - - - - -           
        - - + + + # # # # # # # # # # # + + - -         
      - - + + # # # # # # # # # # # # # # + + -         
    - - + + # # # # # # # # # # # # # # # # + -         
    - - + + # # # # # # # # # # # # # # # # + -         
    - - + + + # # # # # + + + # # # # # # + + -         
      - - + + + + + + + + + + + # # # # # + - -         
      - - - + + + + + - - - + # # # # # # + - -         
        - - - + + + - - - - + # # # # # + + - -         
        - - - - - - - - - + # # # # # # + - - -         
        - - - - - - - - + + # # # # # # + - - -         
          - - - - - - + + # # # # # # + - - -           
              - - - - + + # # # # # + + - -             
                  - - + # # # # # # + - - -             
                - - + + # # # # # + + - -               
              - - + + # # # # # # + - - -               
              - - + # # # # # # + + - - -               
            - - + + # # # # # # + + - - -               
          - - - + + # # # # # + + + - - -               
          - - + + + # # # + + + + + - - -               
            - - + + + + + + + + - - - - -               
                    - - - - - - - -                     
\end{Verbatim}
\newpage
Confused class (9) feature likelihood array:
\begin{Verbatim}[samepage=true]
                                                        
                      - - - - - - - -                   
                - - - + + # # # # # # + + -             
              - - + + # # # # # # # # # + + -           
            - - + + # # # # # # # # # # # + - -         
          - - + + # # # # # # # # # # # # + - -         
          - - + # # # # # # + + # # # # # + - -         
        - - + + # # # # + + + + # # # # # + -           
        - - + # # # # # + + + # # # # # # + -           
        - - + # # # # # # # # # # # # # + - -           
        - - + # # # # # # # # # # # # # + - -           
        - - + + # # # # # # # # # # # # + - -           
          - - + # # # # # # # # # # # + - -             
          - - - + + # # # # # # # # # + - -             
            - - - + + + + # # # # # + + - - -           
              - - - - + + # # # # # + + - - -           
              - - - - + + # # # # # + + - - -           
              - - - + + # # # # # + + + - - -           
              - - - + + # # # # # + + + - - -           
              - - + + + # # # # + + + + - - -           
            - - - + + + # # + + + + + + - - -           
            - - - + + + + + + + + + + - - - -           
              - - - - - - - - - - - - - -               
                                                        
\end{Verbatim}
Odds ratios array:
\begin{Verbatim}[samepage=true]
                                                        
                                                        
          + + # # # +                       +           
        # # # # # + +                       # #         
+ + # # # # # # # + + +                 + + + + +       
+ # # # # # # # # + +         + +   + + + + + # +       
+ # # # # # # # + + +   + + + + + + + + + + + # #       
  # # # # # # + +       + + # # + + + + + + + + +       
  # # # # + + +         + + + + + + + + + + + # +       
  + # # # + +                           + + # # +       
  + # # +                             + + + + # +       
    + + +                           + + + + + # # +     
        +                           + + + + # # # +     
        +                         + + + + + # # #       
        # +                 + + +     + + + + # # #     
    + + #               + + + +           +     +       
    #                 + + + + +                         
                  + + + + + + +                         
                + + + + + + + +                         
        + +   + + + + + + + + +                         
        + # + + + + + + + + + +                         
        + + + + + + + + + + + +                         
          + + + + + + + + + + +                         
          + # # # # # # # # # # + + + +                 
          + # # # # # # # # # # # # # +   # #           
\end{Verbatim}
\newpage
\paragraph{Actual class: 5. Confused class: 3. \\}
Actual class (5) feature likelihood array:
\begin{Verbatim}[samepage=true]
                            - - -         - -           
                  - - - - - + + + + + + + + - - -       
              - - - + + + + # # # # # # # + + + + -     
            - - - + + # # # # # # # # # # # # + + - -   
            - - + + + # # # # # # # # # # # # # + + -   
          - - - + + # # # # # # # # # # # # # + + + -   
          - - + + # # # # # # # # # # # + + + + + - -   
          - - + + # # # # # # # + + + + + - - - - -     
          - - + # # # # # # # # + + + - - - - - -       
          - - + # # # # # # # # # + + + - - - -         
          - - + # # # # # # # # # # + + + - -           
          - - + # # # # # # # # # # # + + - - -         
          - - + + # # # # # # # # # # # + + - -         
        - - - - + + + + + + # # # # # # + + - -         
        - - + + + + + + + + + # # # # # + + - -         
        - + + + + + - - + + + # # # # # + + - -         
        - + # # # + + + + # # # # # # # + + - -         
        - + # # # # # # # # # # # # # # + + - -         
        - + # # # # # # # # # # # # # + + - - -         
          - + # # # # # # # # # # # + + - - - -         
          - - + + # # # # # # # # + + - - - -           
            - - - + + + + + + + + - - - - -             
              - - - - - - - - - - -                     
\end{Verbatim}
\columnbreak
Confused class (3) feature likelihood array:
\begin{Verbatim}[samepage=true]
                      - - - - - - -                     
            - - - - + + + # # # + + + + - -             
        - - - + + # # # # # # # # # # # + - -           
      - - - + + # # # # # # # # # # # # # + - -         
      - - - + + # # # # # # # # # # # # # + - -         
      - - - + + + # # # # # # # # # # # # + - -         
        - - - + + + + + + + # # # # # # # + - -         
          - - - - + + + + # # # # # # # + + - -         
            - - - + + + # # # # # # # # + - -           
            - - - + # # # # # # # # # + + - -           
            - - + + # # # # # # # # # + + - -           
            - - + + # # # # # # # # # # + - -           
            - - + + # # # # # # # # # # + + - -         
        - - - - - + + + + + + # # # # # # + - -         
      - - - - - - - - - - - + + # # # # # + + -         
      - - + + + + - - - - - + + # # # # # + + -         
      - + + + + + + + - + + + # # # # # # + + -         
      - + + # # # # # + # # # # # # # # # + - -         
      - + + # # # # # # # # # # # # # # + + -           
      - + + # # # # # # # # # # # # # + + - -           
      - - + + # # # # # # # # # # + + + - -             
        - - - + + + + + # + + + + - - -                 
            - - - - - - - - - -                         
\end{Verbatim}
\newpage
Odds ratios array:
\begin{Verbatim}[samepage=true]
+ + + + + + + + + + + + + + + + + + + + + + + + + + + + 
+ + + + + + + + + + + + + + + + + + + + + + + + + + + + 
+ + + + + + + + + + + + + + + + + + + + + + + + + + + + 
+ + + + +                             + # # # # # + + + 
+ + +                                 + # # # # # # + + 
+ + +                                 + + # # # # # # + 
+ + +                                 + + # # # # # # # 
+   +                                   + + # # # # # # 
+ + +                 + + + + +         + + # # # # # # 
+ +             + + + # # + +             + # # # # # # 
+ +           + # # # # # + +               + # # # # + 
+ + +   + + # # # # # + + +                   + # # # + 
+ + + + + # # # # # + + +                     # # # + + 
+ + +   + # # # # + + +                   + + + # + + + 
+ + + + + # # # # + + +                   +   + # + + + 
+ + + + + # # # + + + + +                   + + # #   + 
+ +     + + + + + + + + + + + +               + # # + + 
+ +         + + + + + + + + + + +             + # # + + 
+ +         + + + + + + # # + + +             + # # + + 
+ +         + + + + + + # + + +               + # # + + 
+ +           + + + + + + +                   + # + + + 
+ +               + + + +                     + # + + + 
+ +                                         + # # + + + 
+ +                                       + # # # + + + 
+ + +                           + + + + + + + + + + + + 
+ + +             + + + +   + + + +           + + + + + 
+ + + + + + # # # # # # + +     + + +       + + + + + + 
+ + + + + + + + + + + + + + + + + + + + + + + + + + + + 
\end{Verbatim}

\paragraph{Actual class: 8. Confused class: 3. \\}
Actual class (8) feature likelihood array:
\begin{Verbatim}[samepage=true]
                    - - - - + + + + + + - - -           
                - - + + # # # # # # # # + + - - -       
              - - + # # # # # # # # # # # # + - -       
            - - + # # # # # # # # # # # # # + + - -     
          - - + + # # # # # # # # # # # # # # + - -     
          - - + + # # # # # # + # # # # # # # + - -     
          - - + + # # # # # # + # # # # # # + + -       
          - - + + # # # # # # # # # # # # + + - -       
          - - + + # # # # # # # # # # # # + - - -       
          - - - + + # # # # # # # # # + + - - -         
          - - - + + # # # # # # # # # + - - - -         
            - - - + # # # # # # # # + + - - - -         
            - - + + # # # # # # # # + + - - - -         
            - + + # # # # # # # # # # + + - - -         
          - - + # # # # # # # # # # # + + - - -         
          - + + # # # # # # # # # # # + + - - -         
          - + # # # # # # # # # # # # + + - - -         
          - + # # # # # # # # # # # # + + - - -         
          - + + # # # # # # # # # # # + - - -           
          - + + # # # # # # # # # # + + - - -           
            - - + + # # # # # + + + - - - -             
                    - - - - - - -                       
\end{Verbatim}
Confused class (3) feature likelihood array:
\begin{Verbatim}[samepage=true]
                      - - - - - - -                     
            - - - - + + + # # # + + + + - -             
        - - - + + # # # # # # # # # # # + - -           
      - - - + + # # # # # # # # # # # # # + - -         
      - - - + + # # # # # # # # # # # # # + - -         
      - - - + + + # # # # # # # # # # # # + - -         
        - - - + + + + + + + # # # # # # # + - -         
          - - - - + + + + # # # # # # # + + - -         
            - - - + + + # # # # # # # # + - -           
            - - - + # # # # # # # # # + + - -           
            - - + + # # # # # # # # # + + - -           
            - - + + # # # # # # # # # # + - -           
            - - + + # # # # # # # # # # + + - -         
        - - - - - + + + + + + # # # # # # + - -         
      - - - - - - - - - - - + + # # # # # + + -         
      - - + + + + - - - - - + + # # # # # + + -         
      - + + + + + + + - + + + # # # # # # + + -         
      - + + # # # # # + # # # # # # # # # + - -         
      - + + # # # # # # # # # # # # # # + + -           
      - + + # # # # # # # # # # # # # + + - -           
      - - + + # # # # # # # # # # + + + - -             
        - - - + + + + + # + + + + - - -                 
            - - - - - - - - - -                         
\end{Verbatim}
\newpage
Odds ratios array:
\begin{Verbatim}[samepage=true]
+ + + + + + + + + + + + + + + + + + + + + + + + + + + + 
+ + + + + + + + + + + + + + + + + + + + + + + + + + + + 
+ + + + + + + + + + + + + + + + + + + + + + + + + + + + 
+ + + + +                                   + + + + + + 
+ + +                                   + + + + + + + + 
+ + +                           + + + + + + # # # # # + 
+ + +                             + + + + + + # # # # # 
+   +                   + + + +     + + + + # # # # # # 
+ + +             + + + + + +         + + + # # # # # + 
+ +           + + + # # # + +         + + # # # # # + + 
+ +       + + # # # # # + +         + + + # # # # # + + 
+ + +   + # # # # # # + +           + + # # # # # # + + 
+ + + + + # # # + + + + +         + + + # # # # # # + + 
+ + +   + # # + + +     +       + + + + + + # # # # + + 
+ + + +   + + +       + + + + + +             + # + + + 
+ + +               + + + + + + +               # +   + 
+ +             + # # # # # # + +               # + + + 
+ +           + # # # # # # # + +               # + + + 
+ +           + # # # # # # # + +               # + + + 
+ +             + # # # # # + +                 # + + + 
+ +             + + + + + +                     + + + + 
+ +               + + +                       + # + + + 
+ +                                         + + # + + + 
+ +                   + + + +     + + +   + # + + + + + 
+ + +             + + + + + + + + + # # # # +   + + + + 
+ + +                       + + + + + + +     + + + + + 
+ + + + + + + + + +                       + + + + + + + 
+ + + + + + + + + + + + + + + + + + + + + + + + + + + + 
\end{Verbatim}
\end{multicols*}


\subsection{Part 1.2: Pixel groups as features}
\subsubsection{Disjoint patches test set accuracies}
\paragraph{2*2}
Overall accuracy: 0.843. Training time: 4.76866698265s. Testing time: 8.771930933s.
\paragraph{2*4}
Overall accuracy: 0.847. Training time: 5.64997196198s. Testing time: 7.73850893974s.
\paragraph{4*2}
Overall accuracy: 0.827. Training time: 5.03873515129s. Testing time: 6.6052339077s.
\paragraph{4*4}
Overall accuracy: 0.753. Training time: 199.720142126s. Testing time: 6.4594271183s.

\subsubsection{Overlapping patches test set accuracies}
\paragraph{2*2 patches}
Overall accuracy: 0.854. Training time: 15.9538469315s. Testing time: 31.1586790085s.
\paragraph{2*4 patches}
Overall accuracy: 0.859. Training time: 34.8145349026s. Testing time: 49.659963131s.
\paragraph{4*2 patches}
Overall accuracy: 0.854. Training time: 31.1506910324s. Testing time: 41.9733011723s.
\paragraph{4*4 patches}
Overall accuracy: 0.803. Training time: 2657.7499299s. Testing time: 78.4959449768s.
\paragraph{2*3 patches}
Overall accuracy: 0.869. Training time: 23.0421440601s. Testing time: 41.2252509594s.
\paragraph{3*2 patches}
Overall accuracy: 0.86. Training time: 20.8471598625s. Testing time: 38.2440290451s.
\paragraph{3*3 patches}
Overall accuracy: 0.837. Training time: 45.3269481659s. Testing time: 49.6618628502s.

\subsubsection{Trends for different feature sets}
For disjoint patches, increasing the size of the patches does not increase accuracy much. In fact, for large increases in patch size, e.g. from 2*2 to 4*4, the accuracy actually decreases. Additionally, patches with the same area but greater width than height exhibit very slightly higher accuracy, e.g. using 2*4 patches yields a slightly higher accuracy than 4*2 patches.

For overlapping patches, the accuracy remains fairly constant as patch size increase. However, the larger patches, 3*3 and 4*4, the accuracy actually decreases drastically compared to the smaller patches. And similar to disjoint patches, using overlapping patches with the same area but greater width than height yield slightly higher accuracy.

\subsubsection{Runtimes}
For smaller patches, training takes slightly less time than testing. For large patches, training takes much more time than testing. Total time to train and test increases as the patch size increases, although the increase is not linear with respect to the increase in patch size. While testing time appears to increase less than linearly with respect to patch size, training time appears to increase exponentially since the number of values that a patch can take also increases exponentially. For example, using 3*3 patches, V=$2^9$, but using 4*4 patches, V=$2^16$.

\subsection{Extra credit}
\subsubsection{Ternary-value pixels}
Instead of foreground/background as the values a pixel can take, we allow pixels to take on three values: '\#', '+', and ' '. The digit classification data for different, disjoint patch sizes using ternary-value pixels are as follows. Using 2*2 patches is fast and also yields the best accuracy.
\paragraph{1*1 patches} Overall accuracy: 0.772. Training time: 4.69986104965. Testing time: 10.4765548706.
\paragraph{2*2 patches} Overall accuracy: 0.853. Training time: 3.12321209908. Testing time: 4.8628320694.
\paragraph{2*4 patches} Overall accuracy: 0.732. Training time: 29.4421989918. Testing time: 4.58169007301.
\paragraph{4*2 patches} Overall accuracy: 0.713. Training time: 26.829780817. Testing time: 3.38587617874.

\subsubsection{Face data}
We applied our Naive Bayes foreground/background and ternary algorithms to the face data, which yielded the following classification rates.
\paragraph{1*1 patches using binary pixels} Overall accuracy: 0.906666666667. Training time: 3.65005016327. Testing time: 2.68114686012.
\paragraph{1*1 patches using ternary pixels} Overall accuracy: 0.893333333333. Training time: 3.73326396942. Testing time: 2.62013101578.
\paragraph{2*2 disjoint patches using binary pixels} Overall accuracy: 0.98. Training time: 2.19204211235. Testing time: 1.43520092964.
\paragraph{2*2 overlapping patches using binary pixels} Overall accuracy: 0.973333333333. Training time: 7.76022601128. Testing time: 5.15677690506.
\paragraph{2*2 disjoint patches using ternary pixels} Overall accuracy: 0.986666666667. Training time: 2.32967805862. Testing time: 1.42950201035.
\paragraph{2*2 overlapping patches using ternary pixels} Overall accuracy: 0.973333333333. Training time: 8.77986693382. Testing time:  5.51482701302.

Using ternary-value pixels appears to decrease the accuracy slightly. This may be because image segmentation depends on color contrast and the difference in pixel intensity to determine the borders of objects. Having more possible pixel values could confuse the classifier by changing the situtation from a simple black and white contrast to having to figure out whether there is a black-grey, white-grey, etc. border.

Below, we display one of the odds ratio mappings to show the similar pixels which caused a face image to be confused with a non-face image.

\begin{Verbatim}[samepage=true]
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
+                              ++        +       +       + ++
+ +++  +    +  +  +++ +   ++ +     +                     + ++
+ +            +   ++    + ++ ++ ++ ++      +   +++ +   +  ++
+ +         + +        ++++++++++++++      ++++ +  ++++ +++++
+ +++   +      +++   +++     +++++++++++++  +++ ++#++++ +++++
+    +         +    +   +++++++++  + +++++ +++++ + +++     ++
+             + ++  ++++++++++++++++++  ++         + +     ++
+ +  +++      +++  +++++     +++    +++++ ++  + ++ +     + ++
+    +    +   +++ ++ +++          + +++ ++++++ +   ++   + +++
+    +         + ++ +                     +++  + ++++++++ +++
+ ++   ++ ++ ++++                          +++ ++++++++++++++
+ +     +  ++++++               +          +  ++++++  +++ +++
+ ++++ ++  +++++              +  +   +        + ++ + ++ +++++
+ +  + ++++++++ +             +++++++       +   +++++++ ++ ++
+ +    + + +++++        +++++++  +    +       +  + ++++ + +++
+ +  + +     ++               +  + +++ ++       +++ +++++ +++
+ +        +++     +    +++++++ +++     +     + + +++++++++++
+ +   +   + +      +++        +     +             +++ + +  ++
+ +        ++   ++++                    ++       ++++++++++++
+     ++  +++     ++                     ++  +  +++++++++++++
+ +  +++ + ++  +  ++                      ++      +++ +++++++
+    +  +++   +++++                     + +++     +++++ ++ ++
+    ++   +   +++                               +  + +++ ++++
+    ++   +    +++                        +     + ++++++++ ++
+  ++++  +++  +++++                     ++       ++++  +  +++
+     +  ++   ++++                      +++++    +++ +++ ++++
+        +++  ++++ + + +         +++   ++++++    + ++++  ++++
++ + + ++++   +++      + +      +  +++ ++ ++++  ++ ++ + ++ ++
+  +  +  ++ + +++  +++++++++    ++++  ++++++++  ++ + ++++++++
+        ++  ++++    + +++ ++ +++++ + ++ +++++ ++  + +++++ ++
+        ++ + ++++   + ++++ + ++++ + +++  +++++ ++   ++ +  ++
+  +      ++ ++++  +++++++  ++++++++ + ++  ++++ +++++++ ++ ++
+ ++     + +++++++ +++++     ++++++++++++  ++++ ++ + +++++ ++
+  + +   +++++++++ ++##++  + ++++ +++++++ ++++++ + ++++ ++ ++
+  +    +  + +++ +            ++  + +  +  ++++++++ ++++ ++ ++
+  +   +  ++++++++            +++ +   +  +++++++++  +++  + ++
+      +   +++ +++            ++  +       +++++++   ++  ++ ++
+      +++ ++++++              +++        ++ ++ ++ ++++ ++ ++
+        +++++++++            +   +      +++ ++ ++ +++ +#  ++
+        ++ ++++++            ++          ++ +++++ ++++++  ++
+ ++        +++ +             ++         ++++++++ + +++++  ++
+  +    + + ++++ +       ++   ++++        + +++ + ++++ ++  ++
+  +      + ++++++           ++++ +      + ++ +    ++   +  ++
+          +  +++++      +      +   +     +++++++ +++ + +  ++
+             ++++           + +  +       +++       +    ++++
+      +    + +#+++         +++++  +      ++++   +      +  ++
+ +         +++#+++      +        +++    ++++   +++ ++ ++  ++
+ +        +  ++++++             +       ++++   +++   + +  ++
+             +++++ +    +++  + ++ +    +++++           +  ++
+     +       +++++ ++      +++        ++++++              ++
+               ++ ++            +     +++++     +      +  ++
+         +    ++++++++             ++ +++++ +++  +    ++  ++
+      +       ++++++    +        +  + +++++++             ++
+         ++   +++++++ ++          + ++++ ++++           + ++
+      +  +  ++++++++++         + ++++++++++   +++         ++
+       ++       +++++++  +++++  +++++  ++++   +     + +   ++
+  +      ++++  +++++++ +++++++++++++ +++++  +       +  +  ++
+ ++ ++   ++++  ++++++++ +++++++++++ ++   + +     ++++ +++ ++
+ ++      ++ +++ + +  +   +++++++++ + ++ ++ +       ++     ++
+ +   +     +++ + +++ +      +   +++     + ++         +++  ++
+  +++ ++++ +++    +++    +     +++      + ++ + +   +  +++ ++
+ +++ +++ +++    ++       ++++++ +        +++   +++ +    + ++
+ +  ++  + ++++ + +      +  ++++          ++  +  ++++  +++ ++
+ +++        +  ++++                     +++     +++++  +  ++
+++++     +  +   +++                     ++     +          ++
+++               ++                    +               ++ ++
+           + + + ++                   + +++               ++
+                  ++                                      ++
\end{Verbatim}